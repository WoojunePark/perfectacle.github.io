<!DOCTYPE html>





<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=7.3.0">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg?v=7.3.0" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta name="google-site-verification" content="yL1R2eDsKDqjPNaOBKp1usSDw8SQNzaO35svs1LKYWw">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '복사',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="이 글은 Typescript + TSLint + Mocha + Chai + ts-node + NYC로 모던한 프론트 엔드 테스트 환경 구축하기,rollup.js를 통해 모듈 번들링하기에서 이어지는 내용이며,  여러 주제를 다루다보니 깊게 다루지는 않고 각각이 무엇을 하는 것인지만 간단하게 설명과 예제를 곁들여 진행하고 있습니다.또한 예제 진행은 Inte">
<meta name="keywords" content="Travis CI,Coveralls">
<meta property="og:type" content="article">
<meta property="og:title" content="travis-ci와 coveralls를 이용하여 좀 더 안전하게 협업하기">
<meta property="og:url" content="https://perfectacle.github.io/2017/12/10/travis-ci-coveralls/index.html">
<meta property="og:site_name" content="오늘도 끄적끄적">
<meta property="og:description" content="이 글은 Typescript + TSLint + Mocha + Chai + ts-node + NYC로 모던한 프론트 엔드 테스트 환경 구축하기,rollup.js를 통해 모듈 번들링하기에서 이어지는 내용이며,  여러 주제를 다루다보니 깊게 다루지는 않고 각각이 무엇을 하는 것인지만 간단하게 설명과 예제를 곁들여 진행하고 있습니다.또한 예제 진행은 Inte">
<meta property="og:locale" content="ko">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/thumb.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci01.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci02.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci03.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci04.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci05.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci06.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci07.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci08.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci09.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci10.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci11.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci12.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/travis-ci13.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls01.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls02.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls03.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls04.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls05.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls06.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls07.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls08.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls09.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls10.png">
<meta property="og:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/coveralls11.png">
<meta property="og:updated_time" content="2019-08-22T05:54:34.640Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="travis-ci와 coveralls를 이용하여 좀 더 안전하게 협업하기">
<meta name="twitter:description" content="이 글은 Typescript + TSLint + Mocha + Chai + ts-node + NYC로 모던한 프론트 엔드 테스트 환경 구축하기,rollup.js를 통해 모듈 번들링하기에서 이어지는 내용이며,  여러 주제를 다루다보니 깊게 다루지는 않고 각각이 무엇을 하는 것인지만 간단하게 설명과 예제를 곁들여 진행하고 있습니다.또한 예제 진행은 Inte">
<meta name="twitter:image" content="https://perfectacle.github.io/images/travis-ci-coveralls/thumb.png">
<meta property="og:image" content="/images/avatar.png">
  <link rel="alternate" href="/atom.xml" title="오늘도 끄적끄적" type="application/atom+xml">
  <link rel="canonical" href="https://perfectacle.github.io/2017/12/10/travis-ci-coveralls/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>travis-ci와 coveralls를 이용하여 좀 더 안전하게 협업하기 | 오늘도 끄적끄적</title>
  <meta name="generator" content="Hexo 3.9.0">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-87795455-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-87795455-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="ko">
  <div class="container">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">오늘도 끄적끄적</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">느리더라도 꾸준하게</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>홈</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>아카이브</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>카테고리</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>태그</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>검색</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-wrapper">
    <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://perfectacle.github.io/2017/12/10/travis-ci-coveralls/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="양권성">
      <meta itemprop="description" content="느리더라도 꾸준하게">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="오늘도 끄적끄적">
    </span>
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block;margin:0px auto 60px;width:728px;height:90px" data-ad-client="ca-pub-3881550906962162" data-ad-slot="8264718850"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">travis-ci와 coveralls를 이용하여 좀 더 안전하게 협업하기

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              
                
              

              <time title="Post created: 2017-12-10 21:21:07" itemprop="dateCreated datePublished" datetime="2017-12-10T21:21:07+09:00">2017-12-10</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">수정일</span>
                <time title="Updated at: 2019-08-22 14:54:34" itemprop="dateModified" datetime="2019-08-22T14:54:34+09:00">2019-08-22</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Middle-end/" itemprop="url" rel="index"><span itemprop="name">Middle-end</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Middle-end/DevOps/" itemprop="url" rel="index"><span itemprop="name">DevOps</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/12/10/travis-ci-coveralls/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/12/10/travis-ci-coveralls/" itemprop="commentCount"></span></a>
  </span>
  
  
            
              
            
            <div class="post-tags">
              
                <a href="/tags/Travis-CI/" rel="tag"># Travis CI</a>
              
                <a href="/tags/Coveralls/" rel="tag"># Coveralls</a>
              
            </div>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="/images/travis-ci-coveralls/thumb.png" alt="">  </p><p>이 글은 <a href="/2017/12/10/ts-node-mocha-chai">Typescript + TSLint + Mocha + Chai + ts-node + NYC로 모던한 프론트 엔드 테스트 환경 구축하기</a>,<br><a href="/2017/12/10/bundle-with-rollup">rollup.js를 통해 모듈 번들링하기</a>에서 이어지는 내용이며,  </p><p>여러 주제를 다루다보니 깊게 다루지는 않고 각각이 무엇을 하는 것인지만 간단하게 설명과 예제를 곁들여 진행하고 있습니다.<br>또한 예제 진행은 <a href="https://www.jetbrains.com/idea/" rel="external nofollow noopener noreferrer" target="_blank">IntelliJ</a>를 통해 진행했습니다.<br><a href="https://www.jetbrains.com/webstorm/" rel="external nofollow noopener noreferrer" target="_blank">WebStorm</a>으로 진행해도 상관 없고, <a href="https://code.visualstudio.com/" rel="external nofollow noopener noreferrer" target="_blank">VS Code</a>와 진행하면 더 짱짱맨일지도 모르겠습니다.  </p><a id="more"></a>


<p>각 단계 별 깃헙 저장소 브랜치를 제공하고 있고, 이 포스트의 최종 결과물은 <a href="https://github.com/perfectacle/front-test-setting" rel="external nofollow noopener noreferrer" target="_blank">front-test-setting 저장소</a>에서 확인 가능합니다.</p>
<h2 id="CI-Continuous-Integration"><a href="#CI-Continuous-Integration" class="headerlink" title="CI(Continuous Integration)"></a>CI(Continuous Integration)</h2><p>지속적인 통합이라고 직역이 되는데 그냥 뭔소린지 모르겠으니 영어의 느낌을 그대로 갖고 있는 게 좋은 것 같다.<br>CI는 <code>빌드, 테스트, 배포 등등의 잡다구레한 일을 자동화 해주는 도구</code> 정도로 알고 있다.<br>우리는 여기서 빌드와 테스트만 자동화 해볼 예정이다.  </p>
<h3 id="Travis-CI"><a href="#Travis-CI" class="headerlink" title="Travis CI"></a><a href="https://travis-ci.org/" rel="external nofollow noopener noreferrer" target="_blank">Travis CI</a></h3><p>유사품으로 <a href="https://jenkins-ci.org/" rel="external nofollow noopener noreferrer" target="_blank">젠킨스</a>라는 게 있는데 이거는 별도의 CI 서버를 구축해야해서 사내에서 많이 쓰고,<br>Travis CI를 사용하면 별도의 서버를 구축하지 않고 바로 사용이 가능하기 때문에 오픈소스 진영에서 많이 사용한다.<br>그럼 이 CI를 왜 써야할까…?  </p>
<ol>
<li>일단 내가 테스트 코드 매번 돌리기 귀찮음…(푸시하면 알아서 Travis CI가 돌고 결과를 알려줌.)  </li>
<li>풀리퀘스트 받을 때 남이 내 코드를 어떤 식으로 깔아뭉갰을지 모르므로 테스트가 통과됐으면 내 코드에 대한 안전성도 보장됨.  </li>
</ol>
<p>여러가지 이유가 있겠지만 나는 주로 위 이유 때문에 Travis CI를 사용했다.<br><img src="/images/travis-ci-coveralls/travis-ci01.png" alt="홈페이지로 가서 sign in with github을 누르고 로그인 해주자."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci02.png" alt="Travis CI가 요청하는 권한들을 승인해주자."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci03.png" alt="이런 화면이 나오면..."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci04.png" alt="우측 상단의 프로필 - Accounts를 눌러주자."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci05.png" alt="그리고 Sync Account를 한 번 해주자."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci06.png" alt="그럼 우리의 저장소가 보이게 된다.">  </p>
<p><img src="/images/travis-ci-coveralls/travis-ci07.png" alt="원하는 저장소를 on 해주고, 톱니바퀴를 눌러보자."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci08.png" alt="어떨 때 빌드할 것인지 cronjob 등등의 설정이 가능하다."></p>
<p>그리고 travis ci에 대한 설정 파일도 만들어줘야한다.<br>우선 우리의 코드는 자바스크립트이기 때문에 Node.js 위에서 돌리면 된다.<br>.travis.yml 파일을 만들고 아래와 같이 설정해주면 된다.  </p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">"node"</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">"lts/*"</span></span><br></pre></td></tr></table></figure>

<p>각 버전에 대한 자세한 설명은 <a href="https://docs.travis-ci.com/user/languages/javascript-with-nodejs/#Specifying-Node.js-versions" rel="external nofollow noopener noreferrer" target="_blank">Specifying-Node.js-versions</a>을 참고하면 된다.  </p>
<p><img src="/images/travis-ci-coveralls/travis-ci09.png" alt="깃헙 저장소에 push를 하게 되면 travis ci가 자동으로 돌게 된다."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci10.png" alt="노란 아이콘을 누르고 들어오면 빌드에 대한 상세한 상황을 볼 수 있다.">  </p>
<p><img src="/images/travis-ci-coveralls/travis-ci11.png" alt="모든 빌드를 성공하면 Build Passing이란 간지나는 뱃지가 생성된다.">  </p>
<p><img src="/images/travis-ci-coveralls/travis-ci12.png" alt="배지를 클릭하면 배지를 달 수 있는 각종 양식을 제공한다."></p>
<p><img src="/images/travis-ci-coveralls/travis-ci13.png" alt="풀리퀘를 날려도 알아서 Travis CI가 돈다.">  </p>
<p>따라서 빌드가 성공하지 않은 풀리퀘는 적어도 확인해 볼 것도 없이 반려하면 되는 풀리퀘가 되는 것이다.<br>(가끔 노드 버전에 따라 xx 맞게 설치도 실패하는 경우도 많아서 100% 신뢰할 만한 건 아니다.)</p>
<h2 id="Coveralls"><a href="#Coveralls" class="headerlink" title="Coveralls"></a><a href="http://coveralls.io/" rel="external nofollow noopener noreferrer" target="_blank">Coveralls</a></h2><p>NYC(Istanbul)은 로컬에서 테스트 커버리지를 측정하는 도구였다.<br>Coveralls는 깃헙 저장소와 연계해서 NYC로 측정한 테스트 커버리지를 알려준다.  </p>
<p><img src="/images/travis-ci-coveralls/coveralls01.png" alt="우리는 돈이 없으니 Get Started For Free를 눌러주자."></p>
<p><img src="/images/travis-ci-coveralls/coveralls02.png" alt="깃헙을 쓰니까 깃헙 저장소로 가입하자."></p>
<p><img src="/images/travis-ci-coveralls/coveralls03.png" alt="coveralls의 권한을 승인해주자.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls04.png" alt="그리고 나서 Add some repos를 눌러서 저장소를 추가해주자.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls05.png" alt="Sync repo를 눌러서 한 번 싱크를 맞춰주자.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls06.png" alt="원하는 저장소를 ON 해주자.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls07.png" alt="그럼 이제 Deatils 버튼이 생기는데 클릭해보자.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls08.png" alt="private 저장소를 위한 coveralls 설정"><br>우리 저장소는 public이라 해당 설정을 할 필요가 없지만 로컬에서 테스트 커버리지에 대한 결과도 coveralls로 전송하려면 위 과정을 진행해야한다.<br>그리고 repo_token의 경우에는 저장소에 접근 가능한 토큰이므로 절대 외부로 공개해서는 안 된다.  </p>
<p>우선 coveralls를 설치하자.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S coveralls</span><br></pre></td></tr></table></figure>

<p>그리고 프로젝트 디렉토리에 .coveralls.yml 파일을 만들자.  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch .coveralls.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">service_name:</span> <span class="string">travis-pro</span></span><br><span class="line"><span class="attr">repo_token:</span> <span class="string">&#123;token&#125;</span></span><br></pre></td></tr></table></figure>

<p>해당 파일은 토큰을 가지고 있기 때문에 어디에도 공개해서는 안 되는 정보기 때문에 꼭 .gitignore에 등록해두자.  </p>
<p>그리고 nyc의 테스트 커버리지의 정보를 전송하기 위해 package.json에 coveralls 스크립트를 추가하자.  </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"coveralls"</span>: <span class="string">"nyc report --reporter=text-lcov | coveralls"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>npm test</code>를 때리고 <code>npm run coveralls</code>를 때리고 나면 coveralls로 해당 테스트 커버리지 정보가 전송된다.  </p>
<p><img src="/images/travis-ci-coveralls/coveralls09.png" alt="coveralls로 로컬에서 측정한 테스트 커버리지가 잘 전송됐다.">  </p>
<p><img src="/images/travis-ci-coveralls/coveralls10.png" alt="해당 빌드를 눌러보면 자세한 정보를 볼 수 있다.">  </p>
<p>이제 Travis CI와 Coveralls를 연계해 볼 차례이다.<br>설정은 간단하게 .travis.yml에 아래 코드만 추가해주면 된다.  </p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">after_success:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">coveralls</span></span><br></pre></td></tr></table></figure>

<p>빌드가 성공하면 테스트 커버리지를 coveralls로 전송하는 스크립트만 추가하면 된다.  </p>
<p>이제 푸시/풀리퀘를 날려도 coveralls가 자동으로 테스트 커버리지를 측정한다.  </p>
<p><img src="/images/travis-ci-coveralls/coveralls11.png" alt="이제 풀리퀘를 날리면 간지나게 coveralls가 붙게 된다."></p>
<h2 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h2><p>Typescript, TSLint, Mocha, Chai, ts-node, nyc, rollup, Travis CI, Coveralls 등 다양한 주제를 다루려다보니<br>포스팅 시간도 길었고 내용도 루즈해졌고, 깊이도 거의 없다 싶이 해서 아쉽긴 한 포스트입니다.<br>하지만 뭔가 이제 오픈소스나 작업 환경을 좀 더 간지나게 세팅할 수 있다는 것에 뿌듯하긴 한데…<br>이런 게 설레발 주도 개발인가 싶기도 하네요… ㅎㅎ</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
        <ins class="adsbygoogle" style="display:block;margin:80px auto 35px;width:728px;height:90px" data-ad-client="ca-pub-3881550906962162" data-ad-slot="8264718850"></ins>
 <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>


        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2017/12/10/bundle-with-rollup/" rel="next" title="rollup.js를 통해 모듈 번들링하기">
                  <i class="fa fa-chevron-left"></i> rollup.js를 통해 모듈 번들링하기
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2018/01/14/jpa-entity-manager-factory/" rel="prev" title="(JPA) Entity와 EntityManager와 EntityManagerFactory">
                  (JPA) Entity와 EntityManager와 EntityManagerFactory <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav" style="display: none">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          목차
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          프로필
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc">
            <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#CI-Continuous-Integration"><span class="nav-number">1.</span> <span class="nav-text">CI(Continuous Integration)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Travis-CI"><span class="nav-number">1.1.</span> <span class="nav-text">Travis CI</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Coveralls"><span class="nav-number">2.</span> <span class="nav-text">Coveralls</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#마치며"><span class="nav-number">3.</span> <span class="nav-text">마치며</span></a></li></ol></div>
          </div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="양권성">
  <p class="site-author-name" itemprop="name">양권성</p>
  <div class="site-description motion-element" itemprop="description">Back-end Engineer</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives">
        
          <span class="site-state-item-count">179</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">카테고리</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">230</span>
        <span class="site-state-item-name">태그</span>
        </a>
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://github.com/perfectacle" title="GitHub &rarr; https://github.com/perfectacle" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="mailto:perfectacle@gmail.com" title="E-Mail &rarr; mailto:perfectacle@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://www.facebook.com/perfectacle" title="Facebook &rarr; https://www.facebook.com/perfectacle" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-facebook"></i></a>
      </span>
    
      <span class="links-of-author-item">
      
      
      
        
      
        <a href="https://stackoverflow.com/users/8778461/perfectacle" title="StackOverflow &rarr; https://stackoverflow.com/users/8778461/perfectacle" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i></a>
      </span>
    
  </div>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">양권성</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Pisces</a> v7.3.0</div>

        












        
      </div>
    </footer>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
<script src="/js/utils.js?v=7.3.0"></script>
<script src="/js/schemes/pisces.js?v=7.3.0"></script>
<script src="/js/next-boot.js?v=7.3.0"></script>



  








  <script src="/js/local-search.js?v=7.3.0"></script>














  

  

  


  
  <script src="/js/post-details.js?v=7.3.0"></script>


<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://exobud.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  function disqus_config() {
    this.page.url = "https://perfectacle.github.io/2017/12/10/travis-ci-coveralls/";
    this.page.identifier = "2017/12/10/travis-ci-coveralls/";
    this.page.title = 'travis-ci와 coveralls를 이용하여 좀 더 안전하게 협업하기';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://exobud.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    (function() {
      var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        window.addEventListener('load', loadComments, false);
      } else {
        var disqus_scroll = () => {
          // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
          var scrollTop = window.scrollY;

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            window.removeEventListener('scroll', disqus_scroll);
            loadComments();
          }
        };
        window.addEventListener('scroll', disqus_scroll);
      }
    })();
  
</script>

</body>
</html>
